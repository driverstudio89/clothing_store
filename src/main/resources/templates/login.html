<!DOCTYPE html>
<html lang="en">
<head th:replace="~{fragments/head}"></head>
<body>

<header th:replace="~{fragments/header}"></header>

<section class="form-data">

    <form
            th:method="POST"
            th:action="@{/users/login}"
            th:object="${loginData}">

        <div class="row justify-content-center">
            <div class="mt-3">
                <div class="card">
                    <header class="card-header">
                        <h4 class="card-title mt-2">Log in</h4>
                    </header>
                    <article class="card-body">
                        <form>
                            <div th:if="${wrongCredentials}" class="text-danger" th:text="#{login_incorrect}">Incorrect username or password!</div>
                            <div class="form-group">
                                <label th:text="#{login_username}">Username</label>
                                <input type="text"
                                       class="form-control"
                                       id="username"
                                       name="username"
                                       th:field="*{username}"
                                       th:errorclass="is-invalid"
                                       autofocus>
                                <small class="invalid-feedback text-danger">Username must be between 3 and 50 characters</small>

                            </div> <!-- form-group end.// -->
                            <div class="form-group">
                                <label th:text="#{login_password}">Password</label>
                                <input class="form-control"
                                       type="password"
                                       id="password"
                                       name="password"
                                       th:errorclass="is-invalid"
                                >
                                <small th:each="error: ${#fields.errors()}" th:text="${error}" class="text-info">Error messages</small>

                            </div> <!-- form-group end.// -->
                            <div class="form-group">
                                <button type="submit"
                                        class="btn btn-primary btn-block"
                                        value="Log in"> Log in
                                </button>
                            </div> <!-- form-group// -->
                        </form>
                    </article> <!-- card-body end .// -->
                    <div class="border-top card-body text-center">You don't have an account? <a
                            th:href="@{/users/register}">Sign up</a></div>
                </div> <!-- card.// -->
            </div> <!-- col.//-->

        </div> <!-- row.//-->

        </div>
        <!--container end.//-->
    </form>


    <!--        <form -->
    <!--        th:action="@{/users/login}"-->
    <!--        method="POST">-->

    <!--        <h4>Login</h4>-->
    <!--        &lt;!&ndash; <p th:if="${loginError}" class="error">Wrong user or password</p> &ndash;&gt;-->

    <!--            <label for="username">Username:</label>-->
    <!--            <input -->
    <!--            type="text" -->
    <!--            id="username" -->
    <!--            name="username" -->
    <!--            autofocus="autofocus" />-->

    <!--            <label for="password">Password:</label>-->

    <!--            <input type="password" -->
    <!--            id="password" -->
    <!--            name="password" />-->

    <!--            <input class="btn btn-link" type="submit" value="Log in" />-->
    <!--          </form>-->
</section>
<section th:replace="~{/fragments/scripts}"></section>
</body>
</html>