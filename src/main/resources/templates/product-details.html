<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:replace="~{/fragments/head}"></head>

<body>

<header th:replace="~{/fragments/header}"></header>

<!-- content -->
<section class="py-5">
    <div class="container">


        <div class="row gx-5">
            <aside class="col-lg-6">
                <div class="border rounded-4 mb-3 d-flex justify-content-center">
                    <a data-fslightbox="mygalley" class="rounded-4" target="_blank" data-type="image"
                       th:href="${productDetails.firstImage}">
                        <img style="max-width: 100%; max-height: 100vh; margin: auto;" class="rounded-4 fit"
                             th:src="${productDetails.firstImage}"/>
                    </a>
                </div>
                <div class="d-flex justify-content-center mb-3">
                    <a data-fslightbox="mygalley" class="border mx-1 rounded-2 item-thumb" target="_blank"
                       data-type="image" th:href="${productDetails.secondImage}">
                        <img width="60" height="60" class="rounded-2" th:src="${productDetails.secondImage}"/>
                    </a>
                    <a data-fslightbox="mygalley" class="border mx-1 rounded-2 item-thumb" target="_blank"
                       data-type="image" th:href="${productDetails.thirdImage}">
                        <img width="60" height="60" class="rounded-2" th:src="${productDetails.thirdImage}"/>
                    </a>
                    <a data-fslightbox="mygalley" class="border mx-1 rounded-2 item-thumb" target="_blank"
                       data-type="image" th:href="${productDetails.fourthImage}">
                        <img width="60" height="60" class="rounded-2" th:src="${productDetails.fourthImage}"/>
                    </a>
                    <a data-fslightbox="mygalley" class="border mx-1 rounded-2 item-thumb" target="_blank"
                       data-type="image" th:href="${productDetails.fifthImage}">
                        <img width="60" height="60" class="rounded-2" th:src="${productDetails.fifthImage}"/>
                    </a>

                </div>
                <!-- thumbs-wrap.// -->
                <!-- gallery-wrap .end// -->
            </aside>
            <main class="col-lg-6">

                <form
                        th:method="POST"
                        th:action="@{/products/remove/{id}(id = *{productDetails.id})}"
                >
                    <button
                            type="submit"
                            class="btn btn-danger shadow-0 me-1 mb-2 float-right"
                            sec:authorize="hasRole('ADMIN')">Remove item
                    </button>

                </form>


                <div class="ps-lg-3">
                    <h4 class="title text-dark" th:text="${productDetails.name}"></h4>
                    <div class="d-flex flex-row my-3">
                        <div class="text-warning mb-1 me-2">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span class="ms-1">
                4.5
              </span>
                        </div>
                        <span class="text-muted"><i class="fa-sm mx-1"></i>154 orders</span>
                    </div>

                    <div class="mb-3">

                        <span class="h5" th:if="${productDetails.isInStock()}">$<span th:text="${productDetails.price}"></span></span>
                        <span class="h5 text-danger" th:unless="${productDetails.isInStock()}">Out of stock</span>
                    </div>

                    <span th:text="${productDetails.description}">

                    </span>

                    <div class="row">
                        <dt class="col-3">Type:</dt>
                        <dd class="col-9">Regular</dd>

                        <dt class="col-3">Color</dt>
                        <dd class="col-9">Brown</dd>

                        <dt class="col-3">Material</dt>
                        <dd class="col-9">Cotton, Jeans</dd>

                        <dt class="col-3">Brand</dt>
                        <dd class="col-9">Reebook</dd>
                    </div>

                    <hr/>

                    <!--                    <a href="#" class="btn btn-warning shadow-0"> Buy now </a>-->
                    <div class="row mb-4">
                        <form
                                th:method="POST"
                                th:action="@{/products/add-to-cart/{id}(id = *{productDetails.id})}"
                                class="container-fluid"
                        >

                            <div class="row mb-1 align-items-center">

                                <div class="col-md-3 col-lg-3 col-xl-3">
                                    <label for="quantity">Quantity</label>
                                </div>
                                <div class="d-flex">
                                    <button type="button" data-mdb-button-init data-mdb-ripple-init
                                            class="btn btn-link px-2"
                                            onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                                        <i class="fa fa-minus"></i>
                                    </button>

                                    <input
                                            class="form-control form-control-sm"
                                            id="quantity"
                                            min="0"
                                            max="20"
                                            name="quantity"
                                            value="1"
                                            type="number"
                                    />
                                    <small class="invalid-feedback text-danger">Last name must be between 3 and 50
                                        characters</small>


                                    <button type="button" data-mdb-button-init data-mdb-ripple-init
                                            class="btn btn-link px-2"
                                            onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                                        <i class="fa fa-plus"></i>
                                    </button>
                                </div>

                            </div>
                            <hr/>


                            <div class="row">

                                <div class="col-md-4 col-6">
                                    <label class="mb-4">Size</label>
                                    <select class="form-select border border-secondary " style="height: 35px;"
                                            id="size"
                                            name="size"
                                    >
                                        <option value="S">Small</option>
                                        <option value="M">Medium</option>
                                        <option value="L">Large</option>
                                    </select>
                                </div>

                                <div class="col-md-4 col-6">
                                    <label class="mb-4">Color</label>
                                    <select class="form-select border border-secondary" style="height: 35px;"
                                            id="color"
                                            name="color"
                                    >
                                        <option value="RED">Red</option>
                                        <option value="GREEN">Green</option>
                                        <option value="BLUE">Blue</option>
                                    </select>
                                </div>

                            </div>

                            <hr/>

                            <div th:if="${productAlreadyInCart}" class="text-danger mb-2">Product is already in cart!
                            </div>
                            <div class="row mb-4">

                                <div class="col-md-4 col-6" th:if="${productDetails.isInStock()}">
                                    <button type="submit"
                                            class="btn btn-primary btn-lg shadow-0 me-1 fa fa-shopping-basket">
                                        Add to cart
                                    </button>
                                </div>

                                <div class="col-md-4 col-6">
                                    <button
                                            type="submit"
                                            href="#"
                                            class="btn btn-light btn-lg border border-secondary me-1 fa fa-heart fa-lg">
                                        Save
                                    </button>
                                </div>
                            </div>

                        </form>
                    </div>

                </div>
            </main>
        </div>
    </div>
</section>
<!-- content -->

<section th:replace="~{/fragments/scripts}"></section>

</body>
</html>